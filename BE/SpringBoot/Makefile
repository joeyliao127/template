include .env

JAR_NAME := target/$(PROJECT_NAME).jar
.PHONY: build restart

build:
	@echo "ğŸ‘‰ Building Spring Boot JAR..."
	./mvnw clean package -DskipTests
	@echo "âœ… Build complete."

up:
	@echo "ğŸ³ Starting container..."
	docker compose -f ../../Docker/docker-compose-app.yaml up -d springboot
	@echo "âœ… Docker container running."

re: build up

restart-docker:
	@echo "â™»ï¸ Restarting container with new JAR..."
	docker cp $(JAR_NAME) springboot:/app/app.jar
	docker restart springboot

logs:
	docker logs -f springboot